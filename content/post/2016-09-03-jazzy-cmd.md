+++
categories = ["ios"]
tags = []
date = "2016-09-03T00:12:14+09:00"
draft = false
slug = "jazzy-cmd"
title = "jazzyの使い方 その1"

+++

Swiftのドキュメント生成ツールの[jazzy](https://github.com/realm/jazzy)の使い方。
その1はコマンド周りのメモ

<!--more-->

## ドキュメント生成時のコマンド
主に自分個人で使う時のコマンドは以下の通り
```
jazzy -o Documents --min-acl internal --skip-undocumented -a M.Ike -x SYMROOT=/private/tmp/jazzy
```

### "-o Documents"
`-o [フォルダ]`でドキュメントを出力するフォルダを指定する  
なお、フォルダが存在しない場合は自動で作成される

今回の指定だと以下の場所にフォルダが生成される
```
Sample                 # 対象のプロジェクトのフォルダ
  ├─ Sample            # Xcodeのソースなど一式
  ├─ Sample.xcodeproj  # Xcodeのプロジェクトファイル
  └─ Documents         # この中に生成されたドキュメント一式が入る
```

### "--min-acl internal"
`--min-acl [private | internal | public]`で出力の対象を指定する

`Swift2.x`では`public`は使わずに、明示的な`private`か暗黙的な`internal`しか使わない
（※ライブラリではない通常のソースの場合）ので、`internal`以上で設定している

### "--skip-undocumented"
この設定をすると、ドキュメントコメントのないソースからはドキュメントを生成しなくなる

さらに`documentation-coverage`の対象からも除外される

### "-a"
作者名の指定。別に個人用なので必要もないが、ないと見栄えが悪いのでつけている

### "-x SYMROOT=/private/tmp/jazzy"
`-x arg1,arg2,…argN,`で`xcodebuild`時のビルドオプションを指定できる

`jazzy`を使うと`build`というビルドの一時ファイルの入ったディレクトリが
プロジェクトのフォルダ内に生成されてしまう

`.gitignore`でちゃんと指定しているので実害はないが、一時ファイルが生成されるのは気持ち悪い。。。

という訳で、これを指定すれば`jazzy`利用時の一時ファイルを
`/private/tmp/jazzy`(テンポラリフォルダ)へ出力させることができ、
同じフォルダ内に`build`フォルダが生成されなくなる
（テンポラリフォルダは再起動時に消去される）

*ただしXcodeのプロジェクトの設定によっては、別の環境変数を書き換える必要あり*

### 使っていないもの
`-c`をつけると、ドキュメント作成前に元のデータを全部消してくれるので、
本来はつけておいた方が良いオプション

が、ヘルプにもあるように、指定した出力先のフォルダが**問答無用で削除**されてしまう。。。  
開発中はターミナルから手打ち（コピペ）して使うことが多いので、
間違って指定してしまった！という悲劇を防ぐ為、これは指定していない

（確実に作りたい時は手動で削除で対応
ビルド用のシェルスクリプトを組んでいる場合はつけている）

# 開発環境
+ OS X 10.11.6
+ Xcode 7.3.1
+ jazzy 0.7.0
